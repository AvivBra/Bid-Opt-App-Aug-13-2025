# חוקי תקשורת עם המשתמשת

## חוקי יסוד

### 1. אסור קוד בצ'אט
- קוד רק בארטיפקטים
- המשתמשת לא מבינה קוד
- המשתמשת רק מעתיקה ומדביקה

### 2. תמיד קובץ מלא
- **תמיד לתת נוסח קוד מלא של הקובץ**
- **אף פעם לא לתת חלקי קוד או תיקונים חלקיים**
- **אף פעם לא להגיד "הוסיפי את זה לקובץ"**
- אם צריך לתקן קובץ - לתת את כל הקובץ עם התיקון

### 3. נתיב לפני קוד
- **תמיד לכתוב את הנתיב המלא בצ'אט לפני הארטיפקט**
- דוגמה: `app/ui/widgets.py`
- רק אחרי הנתיב - לכתוב את הארטיפקט

### 4. בלי הסברים בזמן כתיבת קוד
- כשכותבים ארטיפקט קוד - **רק קוד, בלי הסברים**
- אלא אם המשתמשת שואלת במפורש להסבר
- הסברים (אם בכלל) - רק אחרי הקוד או לפניו, לא באמצע

### 5. עברית תמיד
- כל ההסברים בעברית
- מונחים טכניים בתעתיק עברי (פורטפוליו, אנטיטי, קמפיין)
- לא לערבב אנגלית באמצע משפטים

### 6. הנחיות פשוטות
- רק פעולות של העתק/הדבק/שמור
- לא לבקש למצוא שורות
- לא לבקש לערוך קוד

### 7. הסברים ברורים
- להסביר מה השתנה בלי להראות קוד
- להסביר איפה הבעיה בלי מספרי שורות
- להסביר בעברית פשוטה מה התיקון עושה

## דוגמאות

### נכון:
```
app/ui/widgets.py

[ארטיפקט עם הקוד המלא]
```

### לא נכון:
```
הוסיפי את הפונקציה הזו לקובץ widgets.py:
[קוד חלקי]
```

### נכון:
"הפונקציה מסננת שורות שבהן אנטיטי שווה לקיוורד"

### לא נכון:
"הפונקציה מסננת שורות שבהן Entity = Keyword"

### נכון:
"תיקנתי את הבדיקה כך שתחפש התאמה מדויקת"

### לא נכון:
"שיניתי בשורה 45 מ-contains ל-isin"

---

# חוקי הוספת דיבוג לקוד

## 1. מטרת הדיבוג
- לזהות בדיוק היכן הסינון נכשל
- להציג את מספר השורות אחרי כל שלב עיבוד
- לראות את הכל בטרמינל בלבד

## 2. מיקום ההדפסות
- **רק בטרמינל** - משתמשים ב-print() רגיל
- **לא ב-UI** - לא משתמשים ב-st.write() או st.info()
- המשתמש לא רואה כלום באפליקציה

## 3. פורמט אחיד לכל שורת דיבוג
```python
# DEBUG MODE
print(f"🔍 DEBUG [{שם_הקובץ}] {תיאור_השלב}: {len(df)} rows")
# DEBUG MODE
```

## 4. סימון ברור
- כל שורת debug מוקפת בהערות `# DEBUG MODE` לפני ואחרי
- חובה בשורה נפרדת לפני ואחרי
- מאפשר מחיקה קלה עם חיפוש של "# DEBUG MODE"

## 5. דוגמה נכונה
```python
# DEBUG MODE
print(f"🔍 DEBUG [optimizer.py] After apply_initial_filters: {len(filtered_df)} rows")
# DEBUG MODE
```

## 6. מה להדפיס
- שם הקובץ
- שם השלב/פונקציה
- מספר שורות נוכחי
- אם רלוונטי: מספר שורות שהוסרו

## 7. איפה להוסיף
- אחרי כל פונקציית סינון
- לפני החזרת תוצאה סופית
- במקרי שגיאה או חריגה

## 8. ניקוי בסיום
- חיפוש בכל הפרויקט: "# DEBUG MODE"
- מחיקת כל הבלוק (3 שורות: הערה + print + הערה)
- או: הוספת משתנה DEBUG = False בראש הקובץ

## 9. קבצים לדיבוג
1. optimizers/zero_sales/optimizer.py
2. optimizers/zero_sales/processors/sheet_creator.py
3. optimizers/zero_sales/processors/data_cleaner.py
4. ui/step2_processing.py (אם צריך)

## 10. אסור
- להשאיר את הדיבוג בקוד הסופי
- להדפיס מידע רגיש
- להדפיס יותר מדי (רק את החשוב)
- לשנות את הלוגיקה של הקוד

---

# Code Generation Rule

When modifying or creating code for this project:

**Do not add any elements, features, or changes that were not explicitly requested.**

Make only the specific changes asked for. Nothing more.

---

# סיכום החוקים החשובים

1. **תמיד קובץ מלא** - אף פעם לא חלקי קוד
2. **נתיב לפני קוד** - תמיד לכתוב את הנתיב המלא
3. **בלי הסברים עם הקוד** - אלא אם נשאלת
4. **עברית בצ'אט** - אנגלית רק בקוד
5. **רק מה שביקשו** - לא להוסיף פיצ'רים